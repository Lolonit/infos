Работа №1 Права доступа к объектам в Linux и управление учетными записями

Информация об учетных записяххранится в файле /etc/passwd
Пример: 
alexander:x:1000:1000:alexander,,,:/home/alexander:/bin/bash
student:x:1001:1001::/home/student:/bin/bash

Имя польз.:x:номер польз.:номер группы: имя группы по умолчанию, :домашний каталог:командная оболочка

Информацияо паролях доступна только для администратора и хранится в файле /etc/shadow
Пример:
root:!:19963:0:99999:7:::
daemon:*:19773:0:99999:7:::
Имя пользователя:Зашифрованный пароль:Последнее изменение:Минимальынй возраст:Максимальный возраст:Срок предупреждения:Срок бездействия:Срок годности:Резерв

Формат пароля: $type$salt$hached
С ! начинается пароль заблокированной учётной записи
* - для процессов, которые не проходят процедуру регистрации в системе

Информация о группах в файле /etc/group
alexander:x:1000:
имя группы:номер группы:члены группы

Информация о паролях групп (для администратора) - /etc/gshadow
tmp2:!::
Имя группы:Пароль для группы:Сроки пароля

Создание пользователя :
sudo useradd -m -s /bin/bash <Имя пользователя>

Создание группы:
sudo groupadd <Имя группы>

Изменение пароля дял пользователя:
sudo passwd <Имя пользователя>

Изменение пароля для группы:
sudo gpasswd <Имя группы>

Для изменения группы по умолчанию пользователь запускает команду newgrp
newgrp <Имя группы>

После смены группы права пользователя распространяются на все объекты, у которых в группе владельцев указана новая группа пользователя

Смена группы владельцев доступна для администратора:
sudo chown <Имя учетной записи>:<Имя группы><Объект>
Пример:
sudo chown :tempgrp /home/tmp
Результат:
student@alexander-VirtualBox:~$ stat /home/tmp
 Файл: /home/tmp
  Размер: 4096      	Блоков: 8          Блок В/В: 4096   каталог
Устройство: 803h/2051d	Инода: 1059153     Ссылки: 3
Доступ: (0750/drwxr-x---)  Uid: ( 1004/     tmp)   Gid: ( 1005/ tempgrp)
Доступ:        2024-10-19 13:05:46.228424229 +0700
Модифицирован: 2024-10-19 12:51:05.059382211 +0700
Изменён:       2024-10-19 13:25:37.571481036 +0700
Создан:        2024-10-19 12:24:17.776305570 +0700

Смена владельца папки и всех объектов внутри папки:
student@alexander-VirtualBox:~$ sudo chown -R tmp2:tmp2 /home/tmp/Folder

Изменение разрешений на объект для 3 категорий пользователей (u-владельцы g-грппа владельцев o-все остальные): 
sudo chmod <Разрешения> <Объект>

Пример(выдача разрешений на запись для всех пользователей на объект /hometmp/Folder):
sudo chmod 666 /home/tmp/Folder

Выдача разрешений на запись для всех пользователей на объект /home/tmp/Folder/f1.txt
sudo chmod o+w /home/tmp/Folder/f1.txt

:wq

